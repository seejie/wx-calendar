<!--index.wxml-->
<view class="container">
  <view class="nav">
    <view class="calendar" bind:tap="onchangeDate">
      {{ currYearAndMonth }}
      <van-icon name="play" class="select-icon"/>
    </view>

    <view class="filter" bind:tap="onfilter">
      筛选<van-icon name="play" class="select-icon"/>
    </view>
    <!-- <view class="cell">
      <van-dropdown-menu>
        <van-dropdown-item id="item" title="{{ itemTitle }}">
          <van-cell title="{{ switchTitle1 }}">
            <van-switch
              slot="right-icon"
              size="24px"
              style="height: 26px"
              checked="{{ switch1 }}"
              bind:change="onSwitch1Change"
            />
          </van-cell>
          <van-cell title="{{ switchTitle2 }}">
            <van-switch
              slot="right-icon"
              size="24px"
              style="height: 26px"
              checked="{{ switch2 }}"
              bind:change="onSwitch2Change"
            />
          </van-cell>
          <van-button type="info" block bind:click="onConfirm">
            确定
          </van-button>
        </van-dropdown-item>
      </van-dropdown-menu>
    </view> -->
  </view>

  <van-calendar
    class="calendar"
    poppable="{{ false }}"
    show-confirm="{{ false }}"
    default-date="{{ today }}"
    show-title="{{ false }}"
    show-subtitle="{{ false }}"
    formatter="{{ formatter }}"
    bind:select="onSelect"
    min-date="{{ firstDay }}"
    max-date="{{ lastDay }}"
  />

  <van-cell-group style="width: 100%">
    <van-cell title="事假" value="2020.10.01 - 2020.10.07" />
    <van-cell title="年假" value="内容" label="备注。。。" border="{{ false }}" />
  </van-cell-group>

  <van-popup
    show="{{ showDatePopup }}"
    position="bottom"
    custom-style="height: 50%;"
    bind:close="onDatePopupClose"
  >
    <van-datetime-picker
      type="year-month"
      value="{{ currentDate }}"
      min-date="{{ minDate }}"
      bind:input="onInput"
      bind:cancel="oncancelDatePicker"
      bind:confirm="onconfirmDatePiker"
    />
  </van-popup>

  <van-popup
    show="{{ showPopup }}"
    position="left"
    custom-style="width:80%;height:100%;background-color:#f6f6f6;"
    bind:close="onPopupClose"
  >
    <view class="form-panel">
      <view class="title">类别</view>
      <view class="tags">
        <view class="tag selected">年假</view>
        <view class="tag selected">事假</view>
      </view>
    </view>

    <view class="form-panel">
      <view class="title">直线下属</view>
      <view class="tags">
        <view class="tag">啦啦啦</view>
        <view class="tag">张三</view>
        <view class="tag">李四</view>
        <view class="tag">王五</view>
        <view class="tag">赵六</view>
        <view class="tag">7777777777</view>
      </view>
    </view>

    <view class="form-panel">
      <view class="title">隔级下属</view>
      <view class="tags">
        <view class="tag">啦啦啦</view>
        <view class="tag">张三</view>
        <view class="tag">李四</view>
        <view class="tag">王五</view>
        <view class="tag">赵六</view>
        <view class="tag">7777777777</view>
      </view>
    </view>
  </van-popup>
</view>
